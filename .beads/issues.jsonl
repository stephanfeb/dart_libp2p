{"id":"dart-libp2p-0nq","content_hash":"0119f36a4b234e8797450da219249986f298f5623c9e1c0650032b7819ac2acf","title":"Swarm Connection Reuse - Immediate Fixes","description":"Critical fixes for incoming relay connection reuse: 1) Initialize _connectionLastActivity for incoming connections in _handleIncomingConnections 2) Add 60-second grace period for new connections in _isConnectionHealthy 3) Replace test stream probing with UDX PING in _probeRelayedConnection 4) Add consecutive failure tracking instead of immediate permanent failure. See doc/connectivity-improvements-brainstorm.md for details.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T16:36:12.894966+08:00","updated_at":"2026-01-06T16:43:43.194185+08:00","closed_at":"2026-01-06T16:43:43.194185+08:00","source_repo":"."}
{"id":"dart-libp2p-1pp","content_hash":"2fe33a2505ceffe7b311b8b9ff988d47cdee0b3348262c57b6e76ce97e90c9c7","title":"UDX Connection Migration","description":"UPDATE: Connection Migration with PATH_CHALLENGE/PATH_RESPONSE already exists in dart-udx! The work is to expose path migration events from UDX to dart-libp2p's Swarm layer so connection tracking can be updated when paths migrate. dart-udx also has CID rotation (NEW_CONNECTION_ID/RETIRE_CONNECTION_ID frames).","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-06T16:27:31.408364+08:00","updated_at":"2026-01-06T16:35:59.067191+08:00","source_repo":"."}
{"id":"dart-libp2p-55b","content_hash":"93702112ae4da367e55a6690b880db995770552acd3eb74c1151aca3cd137375","title":"UDX Connection-Level Keepalives","description":"UPDATE: PingFrame already exists in dart-udx! The work is to expose UDX's native PING through dart-libp2p's transport layer and replace the intrusive stream-based health probing in Swarm with calls to UDX PING. This is a quick win for connectivity reliability.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T16:27:08.936526+08:00","updated_at":"2026-01-06T16:43:57.063712+08:00","closed_at":"2026-01-06T16:43:57.063712+08:00","source_repo":"."}
{"id":"dart-libp2p-dc3","content_hash":"ca2494593864c97194784cbf7a6527ca23a2bad1628312c24ad027593579f5ce","title":"Bidirectional Connection Awareness","description":"Track last successful I/O per peer in both directions. Prefer connections with recent activity. Don't dial new connection if inbound path is working.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-06T16:27:16.529261+08:00","updated_at":"2026-01-06T16:27:16.529261+08:00","source_repo":"."}
{"id":"dart-libp2p-huh","content_hash":"4e7d1d6c50c778dc2a0e336e1413045a4b22b75fbe789f5f317280dca728643c","title":"Connectivity Improvements - Connection Reuse \u0026 Reliability","description":"Investigate and fix connection reuse issues: 1) Incoming relay connections not reused for outbound, 2) Aggressive health checking marking working connections as failed, 3) Activity tracking gap for new connections. See doc/connectivity-improvements-brainstorm.md","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-06T16:26:53.678273+08:00","updated_at":"2026-01-06T16:26:53.678273+08:00","source_repo":".","dependencies":[{"issue_id":"dart-libp2p-huh","depends_on_id":"dart-libp2p-0nq","type":"blocks","created_at":"2026-01-06T16:36:24.208394+08:00","created_by":"stephanfeb"}]}
{"id":"dart-libp2p-kpr","content_hash":"042a9fad2d7103c6878c97739cf078d29f27f67dad00c4e5250811f4ae98d968","title":"Relay Connection Race Condition - Connection Not Found During Upgrade","description":"When incoming relay connection arrives, upgradeInbound takes time (Noise+Yamux negotiation). During upgrade, if app tries to dial back, connectedness() returns notConnected because SwarmConn not yet created. System then tries direct dial which times out. Fix: 1) Mark peer as connected (with placeholder) during upgrade 2) Prefer relay addresses for peers that connected via relay","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T17:35:50.262426+08:00","updated_at":"2026-01-06T17:39:03.498783+08:00","closed_at":"2026-01-06T17:39:03.498783+08:00","source_repo":"."}
{"id":"dart-libp2p-omy","content_hash":"e69e67d6579ac28c2f2f1514561738d826932bea825ecce4fdb440d20676f0ec","title":"STUN Integration for NAT Type Detection","description":"Integrate STUN to detect NAT type (full cone, restricted, symmetric). Skip futile direct dial attempts for symmetric NAT. Guide address ranking.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-06T16:27:23.943189+08:00","updated_at":"2026-01-06T16:27:23.943189+08:00","source_repo":"."}
{"id":"dart-libp2p-r7l","content_hash":"5403293c499a618ff63b76ce9ecc82d87543c1aa24920f0cb48024da2442d017","title":"Circuit Relay Address Format Fix - Missing Relay Peer ID","description":"CRITICAL: Incoming relay connections were storing addresses without the relay's peer ID (e.g., /ip4/.../udx/p2p-circuit/p2p/DEST instead of /ip4/.../udx/p2p/RELAY_ID/p2p-circuit/p2p/DEST). This caused canDial() to reject the addresses when trying to dial back to peers that connected via relay, resulting in 'No transport found for address' errors. Fixed by including relay peer ID in circuit address construction in _handleStreamV2.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T17:21:27.856901+08:00","updated_at":"2026-01-06T17:21:42.218352+08:00","closed_at":"2026-01-06T17:21:42.218352+08:00","source_repo":"."}
